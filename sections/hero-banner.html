<div class="hero-banner relative" style="
  {{#if section.settings.use_color_scheme}}
    {{#if (eq section.settings.color_scheme '1')}}
      background-color: rgb(var(--color-scheme-1-bg));
    {{else}}
      {{#if (eq section.settings.color_scheme '2')}}
        background-color: rgb(var(--color-scheme-2-bg));
      {{else}}
        {{#if (eq section.settings.color_scheme '3')}}
          background-color: rgb(var(--color-scheme-3-bg));
        {{else}}
          background-color: rgb(var(--color-scheme-4-bg));
        {{/if}}
      {{/if}}
    {{/if}}
  {{/if}}
  padding-top: {{default section.settings.padding_top 0}}px; padding-bottom: {{default section.settings.padding_bottom 120}}px;">
  <div class="relative overflow-hidden min-h-[400px] md:min-h-[600px] lg:min-h-[calc(62vw)] md:max-h-[800px]">
    <!-- Mobile Image (natural height on mobile) -->
    {{#if section.settings.mobile_image}}
      <img 
        src="{{image_url section.settings.mobile_image width=768}}" 
        alt="{{section.settings.title}}"
        class="md:hidden w-full h-auto"
      >
    {{else}}
      {{#unless section.settings.image}}
        <!-- Mobile placeholder when no images are set -->
        <div class="md:hidden w-full h-[400px]">
          {{render 'placeholder-image' seed=section.id}}
        </div>
      {{/unless}}
    {{/if}}
    
    <!-- Desktop Image / Mobile Fallback (absolute positioned) -->
    <div class="{{#if section.settings.mobile_image}}hidden md:block{{/if}} absolute inset-0">
      {{#if section.settings.image}}
        <img 
          src="{{image_url section.settings.image width=1920}}" 
          alt="{{section.settings.title}}"
          class="hidden md:block w-full h-full object-cover"
          style="object-position: center {{default section.settings.image_position 50}}%;"
        >
        <!-- Mobile fallback to desktop image when no mobile image -->
        {{#unless section.settings.mobile_image}}
          <img 
            src="{{image_url section.settings.image width=768}}" 
            alt="{{section.settings.title}}"
            class="md:hidden w-full h-full object-cover"
            style="object-position: center {{default section.settings.mobile_image_position 50}}%;"
          >
        {{/unless}}
      {{else}}
        <!-- Placeholder when no image is set -->
        {{render 'placeholder-image' seed=section.id}}
      {{/if}}
    </div>
    
    <!-- Image Overlay -->
    {{#if section.settings.enable_overlay}}
      <div class="absolute inset-0 z-[5]" style="
        {{#if (eq section.settings.overlay_type 'color')}}
          background-color: {{default section.settings.overlay_color 'rgba(0, 0, 0, 0.3)'}};
        {{else}}
          background: linear-gradient(
            {{#if (eq section.settings.overlay_gradient_direction 'top')}}to bottom{{/if}}
            {{#if (eq section.settings.overlay_gradient_direction 'bottom')}}to top{{/if}}
            {{#if (eq section.settings.overlay_gradient_direction 'left')}}to right{{/if}}
            {{#if (eq section.settings.overlay_gradient_direction 'right')}}to left{{/if}}
            {{#if (eq section.settings.overlay_gradient_direction 'radial')}}circle{{/if}},
            {{default section.settings.overlay_gradient_start 'rgba(0, 0, 0, 0.5)'}},
            {{default section.settings.overlay_gradient_end 'rgba(0, 0, 0, 0)'}}
          );
        {{/if}}
      "></div>
    {{/if}}
    
    <!-- Content Overlay -->
    <div class="{{#if section.settings.mobile_image}}absolute md:relative inset-0 top-40 md:top-0{{else}}absolute inset-0{{/if}} z-10 container-fluid mx-auto px-4 lg:px-8">
      <div class="flex items-start md:items-center justify-center min-h-[400px] md:min-h-[600px] lg:min-h-[calc(62vw)] md:max-h-[800px]">
        <div class="text-center max-w-[300px] md:max-w-[600px] mx-auto">
          {{#if section.settings.title}}
            <h1 class="mb-3 md:mb-6 text-[30px] md:text-[50px] lg:text-[70px]" style="
              {{#if section.settings.use_color_scheme}}
                {{#if (eq section.settings.color_scheme '1')}}
                  color: rgb(var(--color-scheme-1-text));
                {{else}}
                  {{#if (eq section.settings.color_scheme '2')}}
                    color: rgb(var(--color-scheme-2-text));
                  {{else}}
                    {{#if (eq section.settings.color_scheme '3')}}
                      color: rgb(var(--color-scheme-3-text));
                    {{else}}
                      color: rgb(var(--color-scheme-4-text));
                    {{/if}}
                  {{/if}}
                {{/if}}
              {{else}}
                color: {{default section.settings.title_color '#000000'}};
              {{/if}}
            ">
              {{section.settings.title}}
            </h1>
          {{/if}}
          
          {{#if section.settings.subtitle}}
            <p class="font-crossten-book text-base md:text-lg mb-6 md:mb-8 max-w-[300px] md:max-w-[350px] mx-auto" style="
              {{#if section.settings.use_color_scheme}}
                {{#if (eq section.settings.color_scheme '1')}}
                  color: rgb(var(--color-scheme-1-text));
                {{else}}
                  {{#if (eq section.settings.color_scheme '2')}}
                    color: rgb(var(--color-scheme-2-text));
                  {{else}}
                    {{#if (eq section.settings.color_scheme '3')}}
                      color: rgb(var(--color-scheme-3-text));
                    {{else}}
                      color: rgb(var(--color-scheme-4-text));
                    {{/if}}
                  {{/if}}
                {{/if}}
              {{else}}
                color: {{default section.settings.subtitle_color '#666666'}};
              {{/if}}
            ">
              {{section.settings.subtitle}}
            </p>
          {{/if}}
          
          {{#if section.settings.button_label}}
            {{#if section.settings.button_link}}
              {{assign "parsed_link" (JSONparse section.settings.button_link)}}
              {{#if parsed_link.pageType}}
                {{#if (eq parsed_link.pageType 10)}}
                  <a href="/products/{{parsed_link.value}}" class="btn btn-primary">
                    {{section.settings.button_label}}
                  </a>
                {{else}}
                  {{#if (eq parsed_link.pageType 12)}}
                    <a href="/collections/{{parsed_link.value}}" class="btn btn-primary">
                      {{section.settings.button_label}}
                    </a>
                  {{else}}
                    {{#if (eq parsed_link.pageType 3)}}
                      <a href="/pages/{{parsed_link.value}}" class="btn btn-primary">
                        {{section.settings.button_label}}
                      </a>
                    {{else}}
                      <a href="{{parsed_link.value}}" class="btn btn-primary">
                        {{section.settings.button_label}}
                      </a>
                    {{/if}}
                  {{/if}}
                {{/if}}
              {{else}}
                <a href="{{section.settings.button_link}}" class="btn btn-primary">
                  {{section.settings.button_label}}
                </a>
              {{/if}}
            {{/if}}
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</div>

{{#schema}}
{
  "name": "t:sections.hero-banner.name",
  "class": "section",
  "settings": [
    {
      "type": "group_header",
      "label": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "default": "Welcome to our store",
      "label": "t:sections.hero-banner.settings.title.label"
    },
    {
      "type": "text",
      "id": "subtitle",
      "default": "Discover amazing products",
      "label": "t:sections.hero-banner.settings.subtitle.label"
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "Shop Now",
      "label": "t:sections.hero-banner.settings.button_label.label"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "t:sections.hero-banner.settings.button_link.label"
    },
    {
      "type": "group_header",
      "label": "Color Settings"
    },
    {
      "type": "switch",
      "id": "use_color_scheme",
      "label": "Use color scheme",
      "default": false,
      "info": "Use one of the 4 predefined color schemes for text and background"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "1",
      "options": [
        {
          "value": "1",
          "label": "Color scheme 1"
        },
        {
          "value": "2",
          "label": "Color scheme 2"
        },
        {
          "value": "3",
          "label": "Color scheme 3"
        },
        {
          "value": "4",
          "label": "Color scheme 4"
        }
      ],
      "info": "Applied when 'Use color scheme' is enabled"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000",
      "info": "Used when color scheme is disabled"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle color",
      "default": "#666666",
      "info": "Used when color scheme is disabled"
    },
    {
      "type": "group_header",
      "label": "t:sections.hero-banner.settings.group_header__0.label"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.hero-banner.settings.image.label",
      "info": "Desktop background image"
    },
    {
      "type": "range",
      "id": "image_position",
      "label": "Desktop image position",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "%",
      "default": 50,
      "info": "Adjust vertical position of the image"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile background image",
      "info": "Optional separate image for mobile devices"
    },
    {
      "type": "range",
      "id": "mobile_image_position",
      "label": "Mobile image position",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "%",
      "default": 50,
      "info": "Adjust vertical position of the mobile image"
    },
    {
      "type": "group_header",
      "label": "Overlay Settings"
    },
    {
      "type": "switch",
      "id": "enable_overlay",
      "label": "Enable overlay",
      "default": false,
      "info": "Add an overlay to improve text readability"
    },
    {
      "type": "select",
      "id": "overlay_type",
      "label": "Overlay type",
      "default": "color",
      "options": [
        {
          "value": "color",
          "label": "Solid color"
        },
        {
          "value": "gradient",
          "label": "Gradient"
        }
      ]
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "rgba(0, 0, 0, 0.3)",
      "info": "Used when overlay type is 'Solid color'"
    },
    {
      "type": "select",
      "id": "overlay_gradient_direction",
      "label": "Gradient direction",
      "default": "bottom",
      "options": [
        {
          "value": "top",
          "label": "Top to bottom"
        },
        {
          "value": "bottom",
          "label": "Bottom to top"
        },
        {
          "value": "left",
          "label": "Left to right"
        },
        {
          "value": "right",
          "label": "Right to left"
        },
        {
          "value": "radial",
          "label": "Radial (center out)"
        }
      ],
      "info": "Used when overlay type is 'Gradient'"
    },
    {
      "type": "color",
      "id": "overlay_gradient_start",
      "label": "Gradient start color",
      "default": "rgba(0, 0, 0, 0.5)",
      "info": "Used when overlay type is 'Gradient'"
    },
    {
      "type": "color",
      "id": "overlay_gradient_end",
      "label": "Gradient end color",
      "default": "rgba(0, 0, 0, 0)",
      "info": "Used when overlay type is 'Gradient'"
    },
    {
      "type": "group_header",
      "label": "t:sections.hero-banner.settings.group_header__1.label"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "t:sections.hero-banner.settings.padding_top.label",
      "default": 0,
      "max": 200,
      "min": 0,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "t:sections.hero-banner.settings.padding_bottom.label",
      "default": 0,
      "max": 200,
      "min": 0,
      "step": 2,
      "unit": "px"
    }
  ],
  "presets": [
    {
      "name": "t:sections.hero-banner.presets.hero_banner.name",
      "settings": {
        "title": "ENERGIZE YOUR JOURNEY",
        "subtitle": "Discover the perfect blend of taste and energy with Avvika",
        "button_label": "Shop now",
        "button_link": "/collections/all",
        "image_position": 50,
        "mobile_image_position": 50,
        "use_color_scheme": false,
        "color_scheme": "1",
        "title_color": "#000000",
        "subtitle_color": "#666666",
        "enable_overlay": false,
        "overlay_type": "color",
        "overlay_color": "rgba(0, 0, 0, 0.3)",
        "padding_top": 0,
        "padding_bottom": 120
      }
    }
  ]
}
{{/schema}}