<div class="hero-banner hero-banner-{{section.id}} relative overflow-hidden {{#if (eq request.page_type 'index')}}hero-banner-transparent{{/if}}" 
     style="
  {{#if section.settings.use_color_scheme}}
    {{#if (eq section.settings.color_scheme '1')}}
      background-color: rgb(var(--color-scheme-1-bg));
    {{else}}
      {{#if (eq section.settings.color_scheme '2')}}
        background-color: rgb(var(--color-scheme-2-bg));
      {{else}}
        {{#if (eq section.settings.color_scheme '3')}}
          background-color: rgb(var(--color-scheme-3-bg));
        {{else}}
          background-color: rgb(var(--color-scheme-4-bg));
        {{/if}}
      {{/if}}
    {{/if}}
  {{/if}}
  height: {{default section.settings.mobile_height 60}}vh;
  min-height: {{default section.settings.min_height 400}}px;
  padding-top: {{default section.settings.padding_top 0}}px; 
  padding-bottom: {{default section.settings.padding_bottom 0}}px;">
  
  <style>
    /* Tablet breakpoint (md: 768px) */
    @media (min-width: 768px) {
      .hero-banner-{{section.id}} {
        height: {{default section.settings.tablet_height 80}}vh !important;
        min-height: {{default section.settings.min_height_tablet 500}}px !important;
      }
    }
    /* Desktop breakpoint (lg: 1024px) */
    @media (min-width: 1024px) {
      .hero-banner-{{section.id}} {
        height: {{default section.settings.desktop_height 100}}vh !important;
        min-height: {{default section.settings.min_height_desktop 600}}px !important;
      }
    }
  </style>
  
  <div class="relative h-full">
    <!-- Background Image Container -->
    <div class="absolute inset-0">
      {{#if section.settings.image}}
        <!-- Desktop Image -->
        <img 
          src="{{image_url section.settings.image width=1920}}" 
          srcset="{{image_url section.settings.image width=768}} 768w,
                  {{image_url section.settings.image width=1024}} 1024w,
                  {{image_url section.settings.image width=1440}} 1440w,
                  {{image_url section.settings.image width=1920}} 1920w"
          sizes="100vw"
          alt="{{section.settings.title}}"
          class="hidden md:block w-full h-full object-cover"
          style="object-position: {{default section.settings.image_focal_point 'center center'}};"
          loading="eager"
        >
        
        <!-- Mobile Image -->
        {{#if section.settings.mobile_image}}
          <img 
            src="{{image_url section.settings.mobile_image width=768}}" 
            srcset="{{image_url section.settings.mobile_image width=375}} 375w,
                    {{image_url section.settings.mobile_image width=768}} 768w"
            sizes="100vw"
            alt="{{section.settings.title}}"
            class="md:hidden w-full h-full object-cover"
            style="object-position: {{default section.settings.mobile_focal_point 'center center'}};"
            loading="eager"
          >
        {{else}}
          <!-- Use desktop image on mobile if no mobile image -->
          <img 
            src="{{image_url section.settings.image width=768}}" 
            srcset="{{image_url section.settings.image width=375}} 375w,
                    {{image_url section.settings.image width=768}} 768w"
            sizes="100vw"
            alt="{{section.settings.title}}"
            class="md:hidden w-full h-full object-cover"
            style="object-position: {{default section.settings.mobile_focal_point 'center center'}};"
            loading="eager"
          >
        {{/if}}
      {{else}}
        <!-- Placeholder when no image is set -->
        <div class="w-full h-full bg-gray-200 flex items-center justify-center">
          {{render 'placeholder-image' seed=section.id}}
        </div>
      {{/if}}
    </div>
    
    <!-- Image Overlay -->
    {{#if section.settings.enable_overlay}}
      <div class="absolute inset-0 z-[5]" style="
        {{#if (eq section.settings.overlay_type 'color')}}
          background-color: {{default section.settings.overlay_color '#000000'}};
          opacity: {{default section.settings.overlay_opacity 0.3}};
        {{else}}
          background: linear-gradient(
            {{#if (eq section.settings.overlay_gradient_direction 'top')}}to bottom{{/if}}
            {{#if (eq section.settings.overlay_gradient_direction 'bottom')}}to top{{/if}}
            {{#if (eq section.settings.overlay_gradient_direction 'left')}}to right{{/if}}
            {{#if (eq section.settings.overlay_gradient_direction 'right')}}to left{{/if}}
            {{#if (eq section.settings.overlay_gradient_direction 'radial')}}circle{{/if}},
            {{default section.settings.overlay_gradient_start '#000000'}},
            {{default section.settings.overlay_gradient_end '#000000'}}
          );
          opacity: {{default section.settings.overlay_opacity 0.5}};
        {{/if}}
      "></div>
    {{/if}}
    
    <!-- Content Overlay -->
    <div class="absolute inset-x-0 top-1/2 -translate-y-1/2 z-10">
      <div class="container mx-auto px-4 lg:px-8">
        <div class="text-center max-w-[300px] md:max-w-[600px] mx-auto">
          {{#if section.settings.title}}
            <h1 class="mb-3 md:mb-6 text-[30px] md:text-[50px] lg:text-[70px]" style="
              {{#if section.settings.use_color_scheme}}
                {{#if (eq section.settings.color_scheme '1')}}
                  color: rgb(var(--color-scheme-1-text));
                {{else}}
                  {{#if (eq section.settings.color_scheme '2')}}
                    color: rgb(var(--color-scheme-2-text));
                  {{else}}
                    {{#if (eq section.settings.color_scheme '3')}}
                      color: rgb(var(--color-scheme-3-text));
                    {{else}}
                      color: rgb(var(--color-scheme-4-text));
                    {{/if}}
                  {{/if}}
                {{/if}}
              {{else}}
                color: {{default section.settings.title_color '#000000'}};
              {{/if}}
            ">
              {{section.settings.title}}
            </h1>
          {{/if}}
          
          {{#if section.settings.subtitle}}
            <p class="text-base md:text-lg mb-6 md:mb-8 max-w-[300px] md:max-w-[350px] mx-auto" style="
              {{#if section.settings.use_color_scheme}}
                {{#if (eq section.settings.color_scheme '1')}}
                  color: rgb(var(--color-scheme-1-text));
                {{else}}
                  {{#if (eq section.settings.color_scheme '2')}}
                    color: rgb(var(--color-scheme-2-text));
                  {{else}}
                    {{#if (eq section.settings.color_scheme '3')}}
                      color: rgb(var(--color-scheme-3-text));
                    {{else}}
                      color: rgb(var(--color-scheme-4-text));
                    {{/if}}
                  {{/if}}
                {{/if}}
              {{else}}
                color: {{default section.settings.subtitle_color '#666666'}};
              {{/if}}
            ">
              {{section.settings.subtitle}}
            </p>
          {{/if}}
          
          {{#if section.settings.button_label}}
            {{#if section.settings.button_link}}
              {{assign "parsed_link" (JSONparse section.settings.button_link)}}
              {{#if parsed_link.pageType}}
                {{#if (eq parsed_link.pageType 10)}}
                  <a href="/products/{{parsed_link.value}}" class="btn btn-primary">
                    {{section.settings.button_label}}
                  </a>
                {{else}}
                  {{#if (eq parsed_link.pageType 12)}}
                    <a href="/collections/{{parsed_link.value}}" class="btn btn-primary">
                      {{section.settings.button_label}}
                    </a>
                  {{else}}
                    {{#if (eq parsed_link.pageType 3)}}
                      <a href="/pages/{{parsed_link.value}}" class="btn btn-primary">
                        {{section.settings.button_label}}
                      </a>
                    {{else}}
                      <a href="{{parsed_link.value}}" class="btn btn-primary">
                        {{section.settings.button_label}}
                      </a>
                    {{/if}}
                  {{/if}}
                {{/if}}
              {{else}}
                <a href="{{section.settings.button_link}}" class="btn btn-primary">
                  {{section.settings.button_label}}
                </a>
              {{/if}}
            {{/if}}
          {{/if}}
        </div>
      </div>
    </div>
  </div>
</div>

{{#schema}}
{
  "name": "t:sections.hero-banner.name",
  "class": "section",
  "settings": [
    {
      "type": "group_header",
      "label": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "default": "Welcome to our store",
      "label": "t:sections.hero-banner.settings.title.label"
    },
    {
      "type": "text",
      "id": "subtitle",
      "default": "Discover amazing products",
      "label": "t:sections.hero-banner.settings.subtitle.label"
    },
    {
      "type": "text",
      "id": "button_label",
      "default": "Shop Now",
      "label": "t:sections.hero-banner.settings.button_label.label"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "t:sections.hero-banner.settings.button_link.label"
    },
    {
      "type": "group_header",
      "label": "Color Settings"
    },
    {
      "type": "switch",
      "id": "use_color_scheme",
      "label": "Use color scheme",
      "default": false,
      "info": "Use one of the 4 predefined color schemes for text and background"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "1",
      "options": [
        {
          "value": "1",
          "label": "Color scheme 1"
        },
        {
          "value": "2",
          "label": "Color scheme 2"
        },
        {
          "value": "3",
          "label": "Color scheme 3"
        },
        {
          "value": "4",
          "label": "Color scheme 4"
        }
      ],
      "info": "Applied when 'Use color scheme' is enabled"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Title color",
      "default": "#000000",
      "info": "Used when color scheme is disabled"
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle color",
      "default": "#666666",
      "info": "Used when color scheme is disabled"
    },
    {
      "type": "group_header",
      "label": "t:sections.hero-banner.settings.group_header__0.label"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.hero-banner.settings.image.label",
      "info": "Desktop background image"
    },
    {
      "type": "text",
      "id": "image_focal_point",
      "label": "Desktop image focal point",
      "default": "center center",
      "info": "E.g., 'center center', 'left top', '25% 75%'"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile background image",
      "info": "Optional separate image for mobile devices"
    },
    {
      "type": "text",
      "id": "mobile_focal_point",
      "label": "Mobile image focal point",
      "default": "center center",
      "info": "E.g., 'center center', 'left top', '25% 75%'"
    },
    {
      "type": "group_header",
      "label": "Overlay Settings"
    },
    {
      "type": "switch",
      "id": "enable_overlay",
      "label": "Enable overlay",
      "default": false,
      "info": "Add an overlay to improve text readability"
    },
    {
      "type": "select",
      "id": "overlay_type",
      "label": "Overlay type",
      "default": "color",
      "options": [
        {
          "value": "color",
          "label": "Solid color"
        },
        {
          "value": "gradient",
          "label": "Gradient"
        }
      ]
    },
    {
      "type": "color",
      "id": "overlay_color",
      "label": "Overlay color",
      "default": "#000000",
      "info": "Used when overlay type is 'Solid color'"
    },
    {
      "type": "range",
      "id": "overlay_opacity",
      "label": "Overlay opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "default": 0.3,
      "info": "Transparency of the overlay (0 = transparent, 1 = opaque)"
    },
    {
      "type": "select",
      "id": "overlay_gradient_direction",
      "label": "Gradient direction",
      "default": "bottom",
      "options": [
        {
          "value": "top",
          "label": "Top to bottom"
        },
        {
          "value": "bottom",
          "label": "Bottom to top"
        },
        {
          "value": "left",
          "label": "Left to right"
        },
        {
          "value": "right",
          "label": "Right to left"
        },
        {
          "value": "radial",
          "label": "Radial (center out)"
        }
      ],
      "info": "Used when overlay type is 'Gradient'"
    },
    {
      "type": "color",
      "id": "overlay_gradient_start",
      "label": "Gradient start color",
      "default": "#000000",
      "info": "Used when overlay type is 'Gradient'"
    },
    {
      "type": "color",
      "id": "overlay_gradient_end",
      "label": "Gradient end color",
      "default": "#000000",
      "info": "Used when overlay type is 'Gradient'"
    },
    {
      "type": "group_header",
      "label": "Layout Settings"
    },
    {
      "type": "range",
      "id": "mobile_height",
      "label": "Mobile height",
      "default": 60,
      "min": 40,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "info": "Height on mobile devices (< 768px)"
    },
    {
      "type": "range",
      "id": "tablet_height",
      "label": "Tablet height",
      "default": 80,
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "info": "Height on tablet devices (768px - 1023px)"
    },
    {
      "type": "range",
      "id": "desktop_height",
      "label": "Desktop height",
      "default": 100,
      "min": 50,
      "max": 100,
      "step": 5,
      "unit": "vh",
      "info": "Height on desktop (≥ 1024px)"
    },
    {
      "type": "range",
      "id": "min_height",
      "label": "Mobile minimum height",
      "default": 400,
      "min": 300,
      "max": 600,
      "step": 50,
      "unit": "px",
      "info": "Minimum height on mobile"
    },
    {
      "type": "range",
      "id": "min_height_tablet",
      "label": "Tablet minimum height",
      "default": 500,
      "min": 400,
      "max": 700,
      "step": 50,
      "unit": "px",
      "info": "Minimum height on tablet"
    },
    {
      "type": "range",
      "id": "min_height_desktop",
      "label": "Desktop minimum height",
      "default": 600,
      "min": 500,
      "max": 800,
      "step": 50,
      "unit": "px",
      "info": "Minimum height on desktop"
    },
    {
      "type": "group_header",
      "label": "t:sections.hero-banner.settings.group_header__1.label"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "t:sections.hero-banner.settings.padding_top.label",
      "default": 0,
      "max": 200,
      "min": 0,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "t:sections.hero-banner.settings.padding_bottom.label",
      "default": 0,
      "max": 200,
      "min": 0,
      "step": 2,
      "unit": "px"
    }
  ],
  "presets": [
    {
      "name": "t:sections.hero-banner.presets.hero_banner.name",
      "settings": {
        "title": "ENERGIZE YOUR JOURNEY",
        "subtitle": "Discover the perfect blend of taste and energy with Avvika",
        "button_label": "Shop now",
        "button_link": "/collections/all",
        "image_focal_point": "center center",
        "mobile_focal_point": "center center",
        "mobile_height": 60,
        "tablet_height": 80,
        "desktop_height": 100,
        "min_height": 400,
        "min_height_tablet": 500,
        "min_height_desktop": 600,
        "use_color_scheme": false,
        "color_scheme": "1",
        "title_color": "#000000",
        "subtitle_color": "#666666",
        "enable_overlay": false,
        "overlay_type": "color",
        "overlay_color": "#000000",
        "overlay_opacity": 0.3,
        "padding_top": 0,
        "padding_bottom": 120
      }
    }
  ]
}
{{/schema}}