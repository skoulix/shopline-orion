<div class="password-header bg-white border-b border-gray-200 py-8">
  <div class="max-w-md mx-auto px-4 text-center">
    <h1 class="mb-8">
      {{#if section.settings.logo_img}}
        <img 
          src="{{image_url section.settings.logo_img width=400}}" 
          alt="{{#if section.settings.logo_img.alt}}{{section.settings.logo_img.alt}}{{else}}{{shop.name}}{{/if}}"
          class="mx-auto h-auto"
          style="width: {{section.settings.desktop_logo_width}}px; max-width: 100%;"
          loading="eager"
        >
      {{else}}
        <span class="text-2xl font-bold text-gray-900">{{shop.name}}</span>
      {{/if}}
    </h1>

    <password-modal class="password-modal">
      <div class="bg-white p-8 max-w-sm mx-auto" style="border-radius: var(--card-radius, 8px); box-shadow: var(--card-shadow, 0 4px 6px -1px rgba(0, 0, 0, 0.1));">
        <button class="password-toggle flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors mx-auto mb-6">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
          </svg>
          {{t "general.password.use_password_enter"}}
        </button>

        <div class="password-content">
          <h2 class="text-xl font-bold text-gray-900 mb-4">{{shop.name}}</h2>
          
          {{#if shop.password_message}}
            <div class="text-gray-600 mb-6">{{shop.password_message}}</div>
          {{/if}}

          <div class="text-sm text-gray-500 mb-6">
            {{t "general.password.use_password_enter"}}
          </div>

          {{#form "storefront_password" class="password-form space-y-4" return_to=routes.root_url}}
            <div class="field">
              <input
                type="password"
                name="password"
                id="Password"
                class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary {{#if form.errors.messages}}border-red-500{{/if}}"
                autocomplete="current-password"
                placeholder="{{t 'customer.general.password'}}"
                required
              >
            </div>
            
            {{#if form.errors.messages}}
              <div class="bg-red-50 border border-red-200 rounded-md p-3 text-red-700 text-sm">
                {{form.errors.messages}}
              </div>
            {{/if}}

            <button 
              type="submit"
              class="w-full py-3 font-medium transition-colors" style="background-color: var(--button-primary-bg); color: var(--button-primary-text); border-radius: var(--button-radius);" onmouseover="this.style.backgroundColor='var(--button-primary-bg-hover)'" onmouseout="this.style.backgroundColor='var(--button-primary-bg)'"
            >
              {{t "general.password.entry_store"}}
            </button>
          {{/form}}

          <div class="mt-6 text-sm text-gray-500 text-center">
            {{t "general.password.you_are_admin"}}
            <a 
              href="https://{{shop.permanent_domain}}/admin" 
              target="_blank" 
              class="hover:opacity-80 underline ml-1" style="color: var(--color-primary);"
            >
              {{t "general.password.log_in_here"}}
            </a>
          </div>
        </div>
      </div>
    </password-modal>
  </div>
</div>

{{#schema}}
{
  "name": "t:sections.main-password-header.name",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo_img",
      "label": "t:sections.main-password-header.settings.logo_img.label"
    },
    {
      "type": "range",
      "id": "desktop_logo_width",
      "label": "t:sections.main-password-header.settings.desktop_logo_width.label",
      "default": 100,
      "min": 50,
      "max": 400,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "mobile_logo_width",
      "label": "t:sections.main-password-header.settings.mobile_logo_width.label",
      "default": 100,
      "min": 30,
      "max": 200,
      "step": 10,
      "unit": "px"
    }
  ]
}
{{/schema}}