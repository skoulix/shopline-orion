<div class="images-grid-section" style="background-color: {{default section.settings.background_color '#ffffff'}}; padding-top: {{default section.settings.padding_top 60}}px; padding-bottom: {{default section.settings.padding_bottom 60}}px;">
  <div class="{{#if section.settings.full_width}}w-full{{else}}container{{/if}}">
    {{#if section.settings.title}}
      <h2 class="text-3xl md:text-4xl {{#if (eq section.settings.title_alignment 'left')}}text-left{{else if (eq section.settings.title_alignment 'right')}}text-right{{else}}text-center{{/if}} mb-10 {{#if (eq section.settings.heading_font 'tanmarjorie')}}font-tanmarjorie{{else if (eq section.settings.heading_font 'crossten-bold')}}font-crossten-bold{{else}}font-crossten-book{{/if}}" style="color: {{default section.settings.heading_color '#000000'}};">
        {{section.settings.title}}
      </h2>
    {{/if}}
    
    <div class="grid {{#if (eq section.settings.columns_mobile '1')}}grid-cols-1{{else if (eq section.settings.columns_mobile '3')}}grid-cols-3{{else}}grid-cols-2{{/if}} {{#if (eq section.settings.columns_desktop 2)}}md:grid-cols-2{{else if (eq section.settings.columns_desktop 3)}}md:grid-cols-3{{else if (eq section.settings.columns_desktop 5)}}md:grid-cols-5{{else if (eq section.settings.columns_desktop 6)}}md:grid-cols-6{{else}}md:grid-cols-4{{/if}} {{#if (eq section.settings.gap 0)}}gap-0{{else if (eq section.settings.gap 1)}}gap-1{{else if (eq section.settings.gap 2)}}gap-2{{else if (eq section.settings.gap 3)}}gap-3{{else if (eq section.settings.gap 5)}}gap-5{{else if (eq section.settings.gap 6)}}gap-6{{else if (eq section.settings.gap 8)}}gap-8{{else if (eq section.settings.gap 10)}}gap-10{{else if (eq section.settings.gap 12)}}gap-12{{else}}gap-4{{/if}}">
      {{#each section.blocks}}
        {{#if (eq type "image")}}
          <div class="images-grid__item {{#if ../section.settings.square_images}}aspect-square{{/if}} overflow-hidden" style="border-radius: {{default ../section.settings.image_radius 0}}px;">
            {{#if this.settings.image}}
              {{#if this.settings.link}}
                <a href="{{this.settings.link}}" {{#if this.settings.open_new_tab}}target="_blank" rel="noopener"{{/if}} class="block h-full">
              {{/if}}
              <img 
                src="{{image_url this.settings.image width=600}}"
                alt="{{default this.settings.alt_text this.settings.image.alt}}"
                loading="lazy"
                class="w-full h-full {{#if ../section.settings.square_images}}object-cover{{else}}object-contain{{/if}} {{#if this.settings.hover_effect}}transition-transform duration-300 hover:scale-110{{/if}}"
                width="{{default ../section.settings.image_width 300}}"
                height="{{default ../section.settings.image_height 300}}"
              >
              {{#if this.settings.link}}
                </a>
              {{/if}}
            {{else}}
              <div class="w-full h-full bg-gray-200 flex items-center justify-center {{#if ../section.settings.square_images}}aspect-square{{else}}min-h-[200px]{{/if}}">
                <svg class="w-16 h-16 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
              </div>
            {{/if}}
          </div>
        {{/if}}
      {{/each}}
    </div>
  </div>
</div>

{{#schema}}
{
  "name": "Images Grid",
  "class": "section",
  "settings": [
    {
      "type": "group_header",
      "label": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Section title"
    },
    {
      "type": "horizontal_align",
      "id": "title_alignment",
      "label": "Title alignment",
      "default": "center"
    },
    {
      "type": "group_header",
      "label": "Grid Settings"
    },
    {
      "type": "range",
      "id": "columns_desktop",
      "label": "Columns on desktop",
      "min": 2,
      "max": 6,
      "step": 1,
      "default": 4
    },
    {
      "type": "select",
      "id": "columns_mobile",
      "label": "Columns on mobile",
      "options": [
        {
          "value": "1",
          "label": "1 column"
        },
        {
          "value": "2",
          "label": "2 columns"
        },
        {
          "value": "3",
          "label": "3 columns"
        }
      ],
      "default": "2"
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap between images",
      "min": 0,
      "max": 12,
      "step": 1,
      "unit": "spacing units",
      "default": 4,
      "info": "Tailwind spacing units (4 = 1rem)"
    },
    {
      "type": "group_header",
      "label": "Image Settings"
    },
    {
      "type": "switch",
      "id": "square_images",
      "label": "Force square aspect ratio",
      "default": true
    },
    {
      "type": "range",
      "id": "image_radius",
      "label": "Image corner radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "image_width",
      "label": "Image width",
      "min": 100,
      "max": 800,
      "step": 50,
      "unit": "px",
      "default": 300,
      "info": "Actual display size, images will be optimized"
    },
    {
      "type": "range",
      "id": "image_height",
      "label": "Image height",
      "min": 100,
      "max": 800,
      "step": 50,
      "unit": "px",
      "default": 300,
      "info": "Only applies when square aspect is disabled"
    },
    {
      "type": "group_header",
      "label": "Typography"
    },
    {
      "type": "select",
      "id": "heading_font",
      "label": "Heading font",
      "options": [
        {
          "value": "tanmarjorie",
          "label": "Display (Tan Marjorie)"
        },
        {
          "value": "crossten-book",
          "label": "Body (Crossten Book)"
        },
        {
          "value": "crossten-bold",
          "label": "Heading (Crossten Bold)"
        }
      ],
      "default": "crossten-bold"
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading color",
      "default": "#000000"
    },
    {
      "type": "group_header",
      "label": "Layout"
    },
    {
      "type": "switch",
      "id": "full_width",
      "label": "Full width",
      "default": false
    },
    {
      "type": "group_header",
      "label": "Appearance"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "group_header",
      "label": "Section spacing"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding top",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "px",
      "label": "Padding bottom",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt text",
          "info": "Describe the image for accessibility"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link URL",
          "info": "Optional link when image is clicked"
        },
        {
          "type": "switch",
          "id": "open_new_tab",
          "label": "Open link in new tab",
          "default": false
        },
        {
          "type": "switch",
          "id": "hover_effect",
          "label": "Enable hover zoom effect",
          "default": true
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Images Grid",
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{{/schema}}