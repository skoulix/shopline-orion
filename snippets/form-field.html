{{#comment}} Form Field Snippet {{/comment}}
{{#comment}}
  Usage: {{snippet "form-field" type="text" name="customer[first_name]" label="First Name" required=true}}
  Parameters:
  - type: input type (text, email, password, tel, etc.)
  - name: input name attribute
  - label: field label
  - id: input id (optional, auto-generated from name if not provided)
  - placeholder: placeholder text (optional)
  - value: default value (optional)
  - required: true/false (optional)
  - autocomplete: autocomplete attribute (optional)
  - pattern: pattern attribute for validation (optional)
  - help_text: help text below field (optional)
  - error: error message (optional)
  - class: additional CSS classes (optional)
{{/comment}}

{{assign "field_id" (default id (replace name "[" "_" | replace "]" ""))}}
{{assign "field_required" (default required false)}}
{{assign "field_type" (default type "text")}}

<div class="form-field {{class}}">
  {{#if label}}
    <label for="{{field_id}}" class="block text-sm font-medium text-gray-700 mb-2">
      {{label}}
      {{#if field_required}}
        <span class="text-red-500">*</span>
      {{/if}}
    </label>
  {{/if}}

  {{#if field_type == "textarea"}}
    <textarea
      id="{{field_id}}"
      name="{{name}}"
      {{#if field_required}}required{{/if}}
      {{#if placeholder}}placeholder="{{placeholder}}"{{/if}}
      {{#if autocomplete}}autocomplete="{{autocomplete}}"{{/if}}
      {{#if pattern}}pattern="{{pattern}}"{{/if}}
      class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm
        {{#if error}}border-red-300 focus:ring-red-500 focus:border-red-500{{/if}}"
      rows="4"
    >{{value}}</textarea>
  {{else if field_type == "select"}}
    <select
      id="{{field_id}}"
      name="{{name}}"
      {{#if field_required}}required{{/if}}
      {{#if autocomplete}}autocomplete="{{autocomplete}}"{{/if}}
      class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm
        {{#if error}}border-red-300 focus:ring-red-500 focus:border-red-500{{/if}}"
    >
      {{#if placeholder}}
        <option value="">{{placeholder}}</option>
      {{/if}}
      {{#each options}}
        <option value="{{value}}" {{#if selected}}selected{{/if}}>{{label}}</option>
      {{/each}}
    </select>
  {{else if field_type == "checkbox"}}
    <div class="flex items-center">
      <input
        type="checkbox"
        id="{{field_id}}"
        name="{{name}}"
        value="{{default value "1"}}"
        {{#if checked}}checked{{/if}}
        {{#if field_required}}required{{/if}}
        class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"
      >
      {{#if label}}
        <label for="{{field_id}}" class="ml-2 block text-sm text-gray-900">
          {{label}}
          {{#if field_required}}
            <span class="text-red-500">*</span>
          {{/if}}
        </label>
      {{/if}}
    </div>
  {{else if field_type == "radio"}}
    <div class="space-y-2">
      {{#each options}}
        <div class="flex items-center">
          <input
            type="radio"
            id="{{../field_id}}_{{@index}}"
            name="{{../name}}"
            value="{{value}}"
            {{#if selected}}checked{{/if}}
            {{#if ../field_required}}required{{/if}}
            class="h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"
          >
          <label for="{{../field_id}}_{{@index}}" class="ml-2 block text-sm text-gray-900">
            {{label}}
          </label>
        </div>
      {{/each}}
    </div>
  {{else}}
    <!-- Default input types (text, email, password, tel, etc.) -->
    <input
      type="{{field_type}}"
      id="{{field_id}}"
      name="{{name}}"
      {{#if value}}value="{{value}}"{{/if}}
      {{#if field_required}}required{{/if}}
      {{#if placeholder}}placeholder="{{placeholder}}"{{/if}}
      {{#if autocomplete}}autocomplete="{{autocomplete}}"{{/if}}
      {{#if pattern}}pattern="{{pattern}}"{{/if}}
      class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-red-500 focus:border-red-500 sm:text-sm
        {{#if error}}border-red-300 focus:ring-red-500 focus:border-red-500{{/if}}"
    >
  {{/if}}

  {{#if help_text}}
    <p class="mt-1 text-sm text-gray-500">{{help_text}}</p>
  {{/if}}

  {{#if error}}
    <p class="mt-1 text-sm text-red-600" id="{{field_id}}-error">
      {{error}}
    </p>
  {{/if}}
</div>